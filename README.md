# Experiment: Abstract RPC

`AbstractRPCProxyPlugin` is a [TECS] [signature plugin] for build-your-own style RPC - it does basic plumbing to marshal and unmarshal procedure calls, but leaves the choice of a specific transport and connection mechanism up to an application developer. Unlike existing RPC plugins, the plugin is dedicated to generating cell types and unaware of other things, and in particular, it doesn't require a connection to be predefined to operate. This plugin opens up the possibility of designing flexible dynamically linked systems where the other side of the binding is unknown and/or non-existent during development, all the same time as enjoying the benefit of TECS where applicable.

[TECS]: https://www.toppers.jp/tecs.html
[signature plugin]: https://tecs-docs.readthedocs.io/ja/latest/tecs/CDLref_signature.html?highlight=シグニチャプラグイン#id10

```
           ,- - - - - - - - - - - ,
,-----,    , ,------------------, , -- generated by AbstractRPCProxyPlugin
| App | ---> | GreetClientProxy | ,
'-----'    , '------------------' ,
           ' - - - -|- -|- - - - -'
                    |   |
__________________  |   |  Application-defined  ____________________________
                    |   |  binary transport
                    |   |
           , - - - -|- -|- - - - ,
           , ,------------------, '      ,--------,
           , | GreetServerProxy | -----> | Person |
           , '------------------' '      '--------'
           ' - - - - - - - - - - -' -- generated by AbstractRPCProxyPlugin
                      ↑
          ,-------------------------,
          | ServerTaskBodyToService |
          '-------------------------'
                      ↑
                ,------------,
                | ServerTask |
                '------------'
```

## Try It

``` Shell
cd app
make
qemu-system-arm -machine realview-eb-mpcore -kernel hrp -nographic -d guest_errors
```

## Related Works

 - [Microsoft Component Object Model](https://docs.microsoft.com/en-us/windows/win32/com/the-component-object-model)
 - [.NET application domains](https://docs.microsoft.com/en-us/dotnet/framework/app-domains/application-domains)
